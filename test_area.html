<!DOCTYPE html>
<html lang="en">
    <style>
    </style>
    <head>
        <meta charset="utf-8">
        <title>Testing Stuff</title>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="class_definitions.js"></script>
        <script src="MMP_JS.js"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" media="all" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"
            media="all" />
        <link rel="stylesheet" href="styles.css" />
      
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </head>
    <body>
    
        <div id="main_timeline"></div>

        <button id="jumpButton" onclick="handleAnimation()">jump randomly!</button>
        <input type="range" min="0" max="3" step="1" value="1" id="zoomRange" oninput="handleAnimatedSlider()">

        <script type="text/javascript">
            var svg = d3.select("#main_timeline").append("svg").attr("id", "svg")
            .attr("height", 500).attr("width", 1000)
            .attr("style", "outline: thin solid red");

            var main_g = svg.append("g").attr("id", "main_g");

            square_size = 200;

            /* var test_data = [0,1,2,3];
            var rect = main_g.selectAll('foo').data(test_data).enter().append('rect')
            .attr("height", square_size).attr("width", square_size)
            .attr("x", function(d){return square_size*Math.floor(d/2)})
            .attr("y", function(d){return square_size*((d % 2))})
            .attr("stroke",  "red");*/

            var rect = main_g.append('rect').attr("height", square_size).attr("width", square_size)
            .attr("x", square_size).attr("y", square_size);

            function handleAnimation(){
                d3.select('rect').transition().duration(1000).attr("x", Math.floor(Math.random() * 500));
            }

            function handleAnimatedSlider(){
                let slider = document.getElementById("zoomRange");
                d3.select('rect').transition().duration(1000).attr("x", square_size*slider.value);
            }

        </script>
    </body>
</html>